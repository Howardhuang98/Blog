# 设计模式

https://www.guanguans.cn/design-patterns-for-humans-cn/#%E4%BB%8B%E7%BB%8D

https://www.bilibili.com/video/BV19541167cn?from=search&seid=17009022369738776581&spm_id_from=333.337.0.0

软件工程基础，用于设计一个大型项目应该如何coding。

## 面向对象

- 封装：把数据封装到一个类里，私有与共有
- 继承：
- 多态：

## 接口：若干抽象方法的集合。

​	作用：限制实现结构的类必须按照指定的方式实现这些方法。

```python
from abc import ABCMeta, abstractmethod

# 具有抽象方法的类就是接口类
# 定义了这个类应该协程什么样子
class Payment(metaclass=ABCMeta):
    @abstractmethod
    def pay(self, money):
        """
        抽象方法，在实现的类中必须实现的方法。限制实现接口的类必须按照接口给定的调用方式实现这些方法
        :param money: 
        :return: 
        """
        pass

# 不能说是继承接口类，应该说是实现接口
class Alipay(Payment):
    def pay(self, money):
        """
        实现接口类中的必须实现的方法
        :param money:
        :return:
        """
        print("支付宝支付了{0}元!".format(money))

class WechatPay(Payment):
    def pay(self, money):
        """
        实现接口类中的必须实现的方法
        :param money:
        :return:
        """
        print("微信支付了%d元!" % (money))

# 下面是高层代码，在调用的时候是看不到底层类的内部实现
a = Alipay()
w = WechatPay()
a.pay(100)
w.pay(100)

```

## 面向对象设计SOLID原则

开放封闭原则：一个软件实体如类，模块等，对扩展开放，对修改关闭

里氏替换原则：所有引用父类的地方必须能够使用其子类的对象

依赖倒置原则：高层模块不应该依赖底层模块。即要针对接口编程，而不是针对实现编程。

结构隔离原则：使用多个专门的接口，不应该使用单一的接口。

## 简单工厂模式

```python
from abc import ABCMeta, abstractmethod

# 抽象产品角色
class Payment(metaclass=ABCMeta):
    @abstractmethod
    def pay(self, money):
        pass

# 具体产品角色
class Alipay(Payment):
    def __init__(self, use_huabei=False):
        self.use_huabei = use_huabei

    def pay(self, money):
        if self.use_huabei == True:
            print("花呗支付了{0}元!".format(money))
        else:
            print("支付宝余额支付了{0}元!".format(money))

class WechatPay(Payment):
    def pay(self, money):
        print("微信支付了%d元!" % (money))

# 抽象工厂角色
class PaymentFactory(metaclass=ABCMeta):
    @abstractmethod
    def create_payment(self):
        pass

# 具体工厂角色
class AlipayFactory(PaymentFactory):
    def create_payment(self):
        return Alipay()

class WechatPayFactory(PaymentFactory):
    def create_payment(self):
        return Alipay()

class HuabeiFactory(PaymentFactory):
    def create_payment(self):
        return Alipay(use_huabei=True)

hfp = HuabeiFactory().create_payment()
hfp.pay(100)  # 花呗支付了100元!
```

角色包括：

- 工厂角色
- 抽象产品角色(抽象类)
- 具体产品角色

## 工厂方法模式

工厂基类：定义一个创建子类的接口

让子类决定实例化什么样的产品类
